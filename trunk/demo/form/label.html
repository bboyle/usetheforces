<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-AU" lang="en-AU">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>forces label test</title>
	<link rel="stylesheet" href="../demo.css" type="text/css" />
</head>

<body id="usetheforces.googlecode.com">

<h1>forces label test</h1>

<div class="xform">
<form action="#" method="get">
	<ol class="questions">
		<li class="xf-input">
			<label for="my-amount">
				<span class="xf-label">Amount</span>
				<abbr class="required" title="required">*</abbr>
			</label>
			<input type="text" id="my-amount" name="myAmount" value="999" />
		</li>
		<li class="xf-input">
			<label for="my-discount">
				<span class="xf-label">Discount</span>
				<abbr class="required" title="required">*</abbr>
			</label>
			<input type="text" id="my-discount" name="myDiscount" />
		</li>
		<li class="xf-select">
			<fieldset id="my-answer">
				<legend>
					<span>
						<span class="xf-label">Choose your own adventure</span>
						<abbr class="required" title="required">*</abbr>
					</span>
				</legend>
				<ul class="choices">
					<li><label for="my-answer-sword"><input type="checkbox" name="my-answer" id="my-answer-sword" value="sword" />Grab the sword</li>
					<li><label for="my-answer-gate"><input type="checkbox" name="my-answer" id="my-answer-gate" value="gate" />Open the gate</li>
					<li><label for="my-answer-null"><input type="checkbox" name="my-answer" id="my-answer-null" value="" checked="checked" />I can't decide</li>
				</ul>
			</fieldset>
		</li>
		<li class="xf-input">
			<label for="abn">
				<span class="xf-label"><abbr title="Australian Business Number">ABN</abbr>:</span>
				<abbr class="required" title="required">*</abbr>
			</label>
			<input type="text" id="abn" name="abn" />
		</li>
		<li class="xf-input xsd-date">
			<label for="my-date2">
				<span class="xf-label">Would you like to supply an optional date?</span>
			</label>
			<input type="text" id="my-date2" name="myDate2" />
		</li>
		<li class="xf-submit">
			<strong><input type="submit" value="Validate" /></strong>
		</li>
  	</ol>
</form>
</div>

<div id="debug">
<h2>Labels found</h2>
<ol>
</ol>
</div>

<script type="text/javascript" src="../../jquery-1.3.2.js"></script>
<script type="text/javascript" src="../../jquery.forces.forms.js"></script>
<script type="text/javascript">
<!-- //

function readLabels() {
	var debug = $('ol', '#debug');
	$(':-xf-control', '.xform').each(function () {
		debug.append($('<li>' + $(this).xfLabel().html() + '</li>'));
	});
}

function loremLabels(separator) {
	var lorem = [
		"Lorem ipsum",
		"Dolor sit amet",
		"Consectetur adipiscing elit",
		'<b>Phasellus velit</b>',
		"Nunc ac ligula non velit tempus venenatis"
	];
	
	$(':-xf-control', '.xform').each(function (i) {
		$(this).xfLabel(lorem[i], separator);
	});
	readLabels();
}

readLabels();
setTimeout(function() { loremLabels() }, 3000);
// set all separators to ':'
setTimeout(function() { loremLabels(':') }, 6000);
// set all separators to '?'
setTimeout(function() { loremLabels('?') }, 9000);
// remove all separators
setTimeout(function() { loremLabels('') }, 9000);

// -->
</script>

</body>
</html>
